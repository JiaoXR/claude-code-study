# 飞书收藏插件

一个浏览器扩展程序，将网页收藏同步到飞书多维表格中，支持添加备注和标签，方便管理和二次处理收藏内容。

## 功能特点

- ✨ **一键收藏** - 点击插件图标即可收藏当前网页
- 📝 **备注标签** - 支持添加自定义备注和标签
- 🎯 **智能建议** - 基于网页内容智能推荐标签
- 🔄 **实时同步** - 自动同步到飞书多维表格
- 📊 **数据管理** - 在飞书中统一管理收藏内容
- ⚙️ **灵活配置** - 支持自定义同步设置

## 安装要求

- Chrome 浏览器 (支持 Manifest V3)
- 飞书账号和多维表格访问权限
- 飞书开放平台应用配置

## 安装步骤

### 1. 下载插件

```bash
git clone <repository-url>
cd feishu-url-save
```

### 2. 安装到浏览器

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目根目录

### 3. 配置飞书应用

#### 创建飞书应用

1. 访问 [飞书开放平台](https://open.feishu.cn/)
2. 创建企业自建应用
3. 获取 App ID 和 App Secret
4. 配置应用权限：
   - `bitable:app` (多维表格应用权限)
   - `bitable:table` (数据表权限) 
   - `bitable:record` (记录权限)

#### 创建多维表格

1. 在飞书中创建一个新的多维表格
2. 添加以下字段：
   - **网站地址** (超链接类型) - 显示网站URL可点击跳转
   - **网站说明** (字符串类型) - 简要描述网站内容
   - **网站备注** (字符串类型) - 详细备注信息
   - **标签** (单选类型) - 三个选项：AI编程、AI工具、其他

3. 获取表格信息：
   - 应用令牌 (App Token): 在表格设置中获取
   - 数据表 ID: 右键数据表标签获取

### 4. 配置插件

1. 点击浏览器工具栏中的插件图标
2. 点击设置按钮 (⚙️)
3. 填写以下信息：
   - **应用令牌**: 从飞书多维表格获取
   - **数据表ID**: 目标数据表的ID
   - **访问令牌**: 从飞书开放平台获取
4. 点击"测试连接"验证配置
5. 保存设置

## 使用方法

### 收藏网页

1. 浏览到要收藏的网页
2. 点击浏览器工具栏中的插件图标
3. 添加备注和标签（可选）
4. 点击"收藏到飞书"按钮

### 快速收藏

点击"快速收藏"按钮可以无需编辑直接收藏当前网页。

### 管理收藏

在飞书多维表格中可以：
- 查看所有收藏记录
- 按标签筛选内容
- 按时间排序
- 编辑备注和标签
- 导出数据进行分析

## 项目结构

```
feishu-url-save/
├── manifest.json          # 插件配置文件
├── popup/                  # 弹窗界面
│   ├── popup.html
│   ├── popup.css
│   └── popup.js
├── background/             # 后台脚本
│   └── background.js
├── content/                # 内容脚本
│   └── content.js
├── options/                # 设置页面
│   ├── options.html
│   ├── options.css
│   └── options.js
├── assets/                 # 资源文件
│   └── js/
│       └── feishu-api.js
├── icons/                  # 图标文件
└── README.md
```

## 技术栈

- **前端**: HTML, CSS, JavaScript (原生)
- **浏览器API**: Chrome Extension APIs (Manifest V3)
- **后端接口**: 飞书开放平台 API
- **数据存储**: Chrome Storage API

## 开发说明

### 调试模式

1. 在设置页面开启"调试模式"
2. 打开浏览器开发者工具
3. 查看控制台输出的详细日志

### 本地开发

```bash
# 修改代码后
# 1. 在 chrome://extensions/ 页面点击刷新按钮
# 2. 重新加载插件
# 3. 测试功能
```

## API 权限说明

插件需要以下权限：

- `activeTab`: 获取当前标签页信息
- `storage`: 本地数据存储
- `tabs`: 标签页操作
- 飞书域名访问权限

## 故障排除

### 常见问题

1. **连接测试失败**
   - 检查应用令牌和访问令牌是否正确
   - 确认飞书应用权限配置
   - 验证数据表ID格式

2. **同步失败**
   - 检查网络连接
   - 确认飞书服务状态
   - 查看错误日志

3. **收藏无响应**
   - 刷新插件
   - 检查页面权限
   - 查看浏览器控制台错误

### 日志查看

1. 右键插件图标 → "检查弹出内容"
2. 在设置页面查看同步历史
3. 浏览器控制台查看详细错误

## 更新日志

### v1.0.0
- 基础收藏功能
- 飞书多维表格同步
- 标签和备注支持
- 设置页面
- 同步状态管理

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！

## 联系方式

如有问题请通过以下方式联系：
- 邮箱: [your-email@example.com]
- Issue: [GitHub Issues链接]